import{r as d,j as e}from"./vendor.CrIUclV0.js";const h="/logos/default-placeholder.svg";function w({organisations:s=[]}){const[g,p]=d.useState(""),[t,f]=d.useState("all"),y=d.useMemo(()=>{const a=new Set;return s.forEach(r=>{r.category&&a.add(r.category.trim().toLowerCase())}),["all",...Array.from(a).sort()]},[s]),x=d.useMemo(()=>{const a=g.toLowerCase();return s.filter(r=>{const l=r.category?.trim().toLowerCase()||"",o=r.industry?.toLowerCase()||"",n=r.organisation?.toLowerCase()||"",c=r.description?.toLowerCase()||"",i=t==="all"||l===t,m=n.includes(a)||c.includes(a)||o.includes(a);return i&&m})},[g,t,s]);return e.jsxs("section",{className:"space-y-8","aria-label":"Organisation Directory",children:[e.jsx("nav",{className:"flex flex-wrap gap-2 border-b pb-3 border-gray-300 dark:border-gray-600",role:"tablist","aria-label":"Filter by category",children:y.map(a=>e.jsx("button",{role:"tab","aria-selected":t===a,onClick:()=>f(a),className:`px-4 py-2 text-sm font-medium rounded-t-md transition ${t===a?"bg-accent-500 text-white shadow":"text-gray-700 dark:text-gray-200 hover:bg-accent-500 dark:hover:bg-accent-500"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold",id:"org-search-heading",children:"Organisations"}),e.jsx("input",{type:"search",placeholder:"Search by name, description, or industry...","aria-labelledby":"org-search-heading",value:g,onChange:a=>p(a.target.value),className:"w-full max-w-sm px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-accent-500"})]}),e.jsx("ul",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3",role:"list","aria-live":"polite","aria-relevant":"additions removals",children:x.length===0?e.jsx("li",{className:"italic text-accent-500",role:"alert",children:"No organisations found."}):x.map((a,r)=>{const{slug:l,organisation:o,description:n,category:c,industry:i,logo:m}=a,b=m||h;return e.jsx("li",{className:"text-primary-500 rounded-lg p-6 bg-white dark:bg-white hover:shadow-lg transition",role:"listitem",children:e.jsxs("article",{className:"flex flex-col h-full","aria-labelledby":`org-title-${r}`,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("img",{src:b,alt:`${o} logo`,className:"w-16 h-16 object-contain flex-shrink-0",onError:u=>{u.currentTarget.onerror=null,u.currentTarget.src=h}}),e.jsx("h3",{id:`org-title-${r}`,className:"text-xl font-semibold text-primary-500",tabIndex:0,children:e.jsx("a",{href:`/organisations/${l}`,className:"hover:underline focus:outline-none focus:ring-2 focus:ring-accent-500 rounded-sm",children:o})})]}),n&&e.jsx("p",{className:"text-gray-700 dark:text-black text-base leading-relaxed mb-3",children:n}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-auto",children:[i&&e.jsx("span",{className:"bg-gray-200 dark:bg-accent-500 text-gray-800 dark:text-white rounded-full px-3 py-1 text-xs font-medium",children:i}),c&&e.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-full px-3 py-1 text-xs font-medium capitalize",children:c})]})]})},`${l}-${r}`)})})]})}export{w as default};
