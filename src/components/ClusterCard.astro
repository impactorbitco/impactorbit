---
const { cluster } = Astro.props;

// Destructure with defaults
const {
  id = "unknown",
  name = "Unnamed Cluster",
  logo = "/images/default-featured.jpg",
  description = "",
  focusAreas = [],
  link = `/clusters/${id}` // <- internal link
} = cluster;
---

<a
  href={link}
  class="border border-accent-500 p-4 rounded-lg hover:shadow-lg transition flex flex-col h-full"
>
  {/* Logo */}
  <img src={logo} alt={name} class="w-full h-32 object-contain mb-4" />

  {/* Name */}
  <h2 class="text-xl font-semibold mb-2 text-accent-500">{name}</h2>

  {/* Description */}
  <p class="text-white mb-4">
    {description.slice(0, 120)}
    {description.length > 120 ? "…" : ""}
  </p>

  {/* Focus Areas */}
  {focusAreas.length > 0 && (
    <ul class="list-disc pl-5 text-white space-y-1 mb-4">
      {focusAreas.map((area) => (
        <li>{area}</li>
      ))}
    </ul>
  )}

  {/* Internal link indicator */}
  <span
    class="mt-auto inline-block px-4 py-2 bg-accent-500 text-white rounded hover:bg-accent-600 transition text-center"
  >
    View Cluster →
  </span>
</a>